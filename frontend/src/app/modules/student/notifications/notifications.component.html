<app-header></app-header>
<div class="notifications-container">
  <div class="page-header-with-actions">
    <div>
      <h1 class="page-title">Notifications</h1>
      <p class="page-subtitle">Stay updated with important announcements</p>
    </div>
    <button class="btn btn-outline" (click)="toggleFilter()">
      <span class="btn-icon">{{ showUnreadOnly ? 'ðŸ“¬' : 'ðŸ“­' }}</span>
      <span>{{ showUnreadOnly ? 'Show All' : 'Unread Only' }}</span>
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p class="loading-text">Loading notifications...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && notifications.length === 0" class="empty-state">
    <div class="empty-icon">ðŸ””</div>
    <h4 class="empty-title">{{ showUnreadOnly ? 'All caught up!' : 'No notifications yet' }}</h4>
    <p class="empty-text">{{ showUnreadOnly ? 'You have no unread notifications' : 'Notifications will appear here' }}</p>
  </div>

  <!-- Notifications List -->
  <div *ngIf="!loading && notifications.length > 0" class="notifications-list">
    <div 
      *ngFor="let notification of notifications" 
      class="notification-card"
      [class.notification-unread]="!notification.is_read"
      (click)="markAsRead(notification)">
      
      <div class="notification-indicator" *ngIf="!notification.is_read"></div>
      
      <div class="notification-icon" [ngClass]="'icon-' + notification.type">
        {{ getNotificationIcon(notification.type) }}
      </div>
      
      <div class="notification-content">
        <h3 class="notification-title">{{ notification.title }}</h3>
        <p class="notification-message">{{ notification.message }}</p>
        <div class="notification-meta">
          <span class="meta-time">{{ notification.created_at | date:'MMM d, y â€¢ h:mm a' }}</span>
          <span class="meta-badge" *ngIf="!notification.is_read">Unread</span>
        </div>
      </div>
    </div>
  </div>
</div>
